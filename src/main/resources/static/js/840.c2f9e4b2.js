(self["webpackChunkourmemory"]=self["webpackChunkourmemory"]||[]).push([[840],{5743:function(t){!function(e,n){t.exports=n()}(0,(function(){"use strict";var t=1e3,e=6e4,n=36e5,a="millisecond",s="second",r="minute",o="hour",i="day",u="week",c="month",l="quarter",d="year",m="date",f="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},g=function(t,e,n){var a=String(t);return!a||a.length>=e?t:""+Array(e+1-a.length).join(n)+t},y={s:g,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),a=Math.floor(n/60),s=n%60;return(e<=0?"+":"-")+g(a,2,"0")+":"+g(s,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var a=12*(n.year()-e.year())+(n.month()-e.month()),s=e.clone().add(a,c),r=n-s<0,o=e.clone().add(a+(r?-1:1),c);return+(-(a+(n-s)/(r?s-o:o-s))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:d,w:u,d:i,D:m,h:o,m:r,s:s,ms:a,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},$="en",_={};_[$]=h;var D=function(t){return t instanceof k},w=function t(e,n,a){var s;if(!e)return $;if("string"==typeof e){var r=e.toLowerCase();_[r]&&(s=r),n&&(_[r]=n,s=r);var o=e.split("-");if(!s&&o.length>1)return t(o[0])}else{var i=e.name;_[i]=e,s=i}return!a&&s&&($=s),s||!a&&$},b=function(t,e){if(D(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new k(n)},M=y;M.l=w,M.i=D,M.w=function(t,e){return b(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var k=function(){function h(t){this.$L=w(t.locale,null,!0),this.parse(t)}var g=h.prototype;return g.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(M.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var a=e.match(v);if(a){var s=a[2]-1||0,r=(a[7]||"0").substring(0,3);return n?new Date(Date.UTC(a[1],s,a[3]||1,a[4]||0,a[5]||0,a[6]||0,r)):new Date(a[1],s,a[3]||1,a[4]||0,a[5]||0,a[6]||0,r)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},g.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},g.$utils=function(){return M},g.isValid=function(){return!(this.$d.toString()===f)},g.isSame=function(t,e){var n=b(t);return this.startOf(e)<=n&&n<=this.endOf(e)},g.isAfter=function(t,e){return b(t)<this.startOf(e)},g.isBefore=function(t,e){return this.endOf(e)<b(t)},g.$g=function(t,e,n){return M.u(t)?this[e]:this.set(n,t)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(t,e){var n=this,a=!!M.u(e)||e,l=M.p(t),f=function(t,e){var s=M.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return a?s:s.endOf(i)},v=function(t,e){return M.w(n.toDate()[t].apply(n.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},p=this.$W,h=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(l){case d:return a?f(1,0):f(31,11);case c:return a?f(1,h):f(0,h+1);case u:var $=this.$locale().weekStart||0,_=(p<$?p+7:p)-$;return f(a?g-_:g+(6-_),h);case i:case m:return v(y+"Hours",0);case o:return v(y+"Minutes",1);case r:return v(y+"Seconds",2);case s:return v(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(t){return this.startOf(t,!1)},g.$set=function(t,e){var n,u=M.p(t),l="set"+(this.$u?"UTC":""),f=(n={},n[i]=l+"Date",n[m]=l+"Date",n[c]=l+"Month",n[d]=l+"FullYear",n[o]=l+"Hours",n[r]=l+"Minutes",n[s]=l+"Seconds",n[a]=l+"Milliseconds",n)[u],v=u===i?this.$D+(e-this.$W):e;if(u===c||u===d){var p=this.clone().set(m,1);p.$d[f](v),p.init(),this.$d=p.set(m,Math.min(this.$D,p.daysInMonth())).$d}else f&&this.$d[f](v);return this.init(),this},g.set=function(t,e){return this.clone().$set(t,e)},g.get=function(t){return this[M.p(t)]()},g.add=function(a,l){var m,f=this;a=Number(a);var v=M.p(l),p=function(t){var e=b(f);return M.w(e.date(e.date()+Math.round(t*a)),f)};if(v===c)return this.set(c,this.$M+a);if(v===d)return this.set(d,this.$y+a);if(v===i)return p(1);if(v===u)return p(7);var h=(m={},m[r]=e,m[o]=n,m[s]=t,m)[v]||1,g=this.$d.getTime()+a*h;return M.w(g,this)},g.subtract=function(t,e){return this.add(-1*t,e)},g.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var a=t||"YYYY-MM-DDTHH:mm:ssZ",s=M.z(this),r=this.$H,o=this.$m,i=this.$M,u=n.weekdays,c=n.months,l=n.meridiem,d=function(t,n,s,r){return t&&(t[n]||t(e,a))||s[n].slice(0,r)},m=function(t){return M.s(r%12||12,t,"0")},v=l||function(t,e,n){var a=t<12?"AM":"PM";return n?a.toLowerCase():a};return a.replace(p,(function(t,a){return a||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return M.s(e.$y,4,"0");case"M":return i+1;case"MM":return M.s(i+1,2,"0");case"MMM":return d(n.monthsShort,i,c,3);case"MMMM":return d(c,i);case"D":return e.$D;case"DD":return M.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return d(n.weekdaysMin,e.$W,u,2);case"ddd":return d(n.weekdaysShort,e.$W,u,3);case"dddd":return u[e.$W];case"H":return String(r);case"HH":return M.s(r,2,"0");case"h":return m(1);case"hh":return m(2);case"a":return v(r,o,!0);case"A":return v(r,o,!1);case"m":return String(o);case"mm":return M.s(o,2,"0");case"s":return String(e.$s);case"ss":return M.s(e.$s,2,"0");case"SSS":return M.s(e.$ms,3,"0");case"Z":return s}return null}(t)||s.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(a,m,f){var v,p=this,h=M.p(m),g=b(a),y=(g.utcOffset()-this.utcOffset())*e,$=this-g,_=function(){return M.m(p,g)};switch(h){case d:v=_()/12;break;case c:v=_();break;case l:v=_()/3;break;case u:v=($-y)/6048e5;break;case i:v=($-y)/864e5;break;case o:v=$/n;break;case r:v=$/e;break;case s:v=$/t;break;default:v=$}return f?v:M.a(v)},g.daysInMonth=function(){return this.endOf(c).$D},g.$locale=function(){return _[this.$L]},g.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),a=w(t,e,!0);return a&&(n.$L=a),n},g.clone=function(){return M.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},h}(),C=k.prototype;return b.prototype=C,[["$ms",a],["$s",s],["$m",r],["$H",o],["$W",i],["$M",c],["$y",d],["$D",m]].forEach((function(t){C[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),b.extend=function(t,e){return t.$i||(t(e,k,b),t.$i=!0),b},b.locale=w,b.isDayjs=D,b.unix=function(t){return b(1e3*t)},b.en=_[$],b.Ls=_,b.p={},b}))},4840:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return pt}});n(7658);var a=n(3396),s=n(2268),r=n(4870),o=n(9242),i=n(2583),u=n(7627),c=n(3824);const l=t=>((0,a.dD)("data-v-19570c33"),t=t(),(0,a.Cn)(),t),d={class:"delete-group-modal"},m=l((()=>(0,a._)("div",{class:"delete-group-modal-content-header"},[(0,a._)("span",null,"게시글 삭제")],-1))),f=l((()=>(0,a._)("div",{class:"delete-group-modal-content-body"},[(0,a._)("b",null,"정말로 삭제하시겠습니까?")],-1)));var v=(0,a.aZ)({name:"DeletePostModal",props:{postData:{type:Object,required:!0}},emits:["closeModal"],setup(t,{emit:e}){const n=t,s=(0,r.iH)(u.Z.state.userId),o=(0,r.iH)(u.Z.state.groupData.id),l=function(){e("closeModal")},v=async function(){try{await(0,i.tF)(n.postData.postId),l(),await c.Z.push(`/${s.value}/${o.value}`)}catch(t){console.log(t)}};return(t,e)=>((0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",{class:"delete-group-modal-content"},[m,f,(0,a._)("div",{class:"delete-group-modal-content-footer"},[(0,a._)("button",{class:"btn btn-secondary me-3",onClick:v},"확인"),(0,a._)("button",{class:"btn btn-secondary",onClick:l},"닫기")])])]))}}),p=n(89);const h=(0,p.Z)(v,[["__scopeId","data-v-19570c33"]]);var g=h;const y=t=>((0,a.dD)("data-v-0904e2d3"),t=t(),(0,a.Cn)(),t),$={class:"comment-create-wrap"},_={class:"comment-create-form"},D=y((()=>(0,a._)("b",{style:{"font-size":"13px","margin-bottom":"10px","margin-left":"5px"}},"댓글 쓰기",-1)));var w=(0,a.aZ)({name:"CreateCommentForm",props:{postData:{type:Object,required:!0}},emits:["refresh"],setup(t,{emit:e}){const n=t,s=(0,r.iH)(""),c=async function(){try{const t={userId:u.Z.state.userId,postId:n.postData.postId,content:s.value};await(0,i.GQ)(t),e("refresh"),s.value=""}catch(t){console.log(t)}};return(t,e)=>((0,a.wg)(),(0,a.iD)("div",$,[(0,a._)("div",_,[D,(0,a.wy)((0,a._)("textarea",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.value=t),style:{resize:"none","border-radius":"4px",padding:"5px"},rows:"3"},null,512),[[o.nr,s.value]])]),(0,a._)("div",{class:"comment-create-btn"},[(0,a._)("button",{class:"btn btn-secondary",onClick:c},"등록")])]))}});const b=(0,p.Z)(w,[["__scopeId","data-v-0904e2d3"]]);var M=b;const k=t=>((0,a.dD)("data-v-7643122c"),t=t(),(0,a.Cn)(),t),C={class:"delete-group-modal"},S=k((()=>(0,a._)("div",{class:"delete-group-modal-content-header"},[(0,a._)("span",null,"댓글 삭제")],-1))),H=k((()=>(0,a._)("div",{class:"delete-group-modal-content-body"},[(0,a._)("b",null,"정말로 삭제하시겠습니까?")],-1)));var Z=(0,a.aZ)({name:"DeleteCommentModal",emits:["deleteComment","closeModal"],setup(t,{emit:e}){const n=function(){e("closeModal")},s=function(){e("deleteComment")};return(t,e)=>((0,a.wg)(),(0,a.iD)("div",C,[(0,a._)("div",{class:"delete-group-modal-content"},[S,H,(0,a._)("div",{class:"delete-group-modal-content-footer"},[(0,a._)("button",{class:"btn btn-secondary me-3",onClick:s},"확인"),(0,a._)("button",{class:"btn btn-secondary",onClick:n},"닫기")])])]))}});const I=(0,p.Z)(Z,[["__scopeId","data-v-7643122c"]]);var O=I,x=n(5743),N=n.n(x);const z={class:"comment-wrap"},Y={class:"comment-title"},P={style:{"margin-left":"10px"}},T={class:"comment-items"},U={class:"comment-item-header"},W={style:{"margin-right":"15px"}},F={style:{color:"darkgray"}},L=["onClick"],A={class:"comment-item-footer"},V={style:{"margin-top":"5px"}},j={class:"btn-cover"},q=["disabled"],J={class:"page-count"},G=["disabled"],K={class:"comment-create"},Q={class:"comment-modal"};var R=(0,a.aZ)({name:"CommentListView",props:{postData:{type:Object,required:!0}},setup(t){const e=t,n=(0,r.iH)(0),c=u.Z.state.userData.nickName,l=(0,r.iH)(20),d=(0,r.iH)(1),m=(0,r.iH)(0),f=(0,r.iH)(0),v=(0,r.iH)(""),p=(0,r.iH)(0),h=(0,r.iH)([{commentId:0,postId:0,userNickName:"",content:"",createdDate:""}]),g=async function(){d.value+=1,await $()},y=async function(){d.value-=1,await $()},$=async function(){try{const t={postId:e.postData.postId,size:l.value,page:d.value},n=await(0,i.sI)(t);f.value=n.data.totalCount,m.value=n.data.totalPages,h.value=n.data.comments;const a=N()();for(const e of h.value){let t=a.diff(e.createdDate,"minute");if(t<60)0==t&&(t=1),e.createdDate=t.toString()+"분 전";else{const t=a.diff(e.createdDate,"hour");t<24&&(e.createdDate=t.toString()+"시간 전")}}}catch(t){console.log(t)}},_=function(t){v.value="deleteCommentModal",p.value=t},D=function(){v.value=""},w=async function(){try{const t=p.value;await(0,i.$s)(t),await $(),v.value=""}catch(t){console.log(t)}},b=async function(){try{const t=e.postData.postId,a=await(0,i.d5)(t);n.value=a.data.user.nickName,await $()}catch(t){console.log(t)}};return(0,a.bv)(b),(e,i)=>((0,a.wg)(),(0,a.iD)("div",z,[(0,a._)("div",Y,[(0,a._)("span",P,"댓글 : "+(0,s.zw)(f.value)+"개",1)]),(0,a._)("div",T,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(h.value,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"comment-item",key:t.commentId},[(0,a._)("div",U,[(0,a._)("span",W,[(0,a._)("b",null,(0,s.zw)(t.userNickName),1)]),(0,a._)("span",F,(0,s.zw)(t.createdDate),1),(0,a.wy)((0,a._)("button",{class:"btn btn-outline-danger-",onClick:e=>_(t.commentId),style:{"text-decoration":"underline",color:"darkgray",padding:"0",position:"absolute",right:"0","margin-right":"10px","font-size":"12px"}}," 삭제 ",8,L),[[o.F8,t.userNickName===(0,r.SU)(c)||n.value===(0,r.SU)(c)]])]),(0,a._)("div",A,[(0,a._)("pre",V,(0,s.zw)(t.content),1)])])))),128))]),(0,a._)("div",j,[(0,a._)("button",{disabled:1===d.value,onClick:y,class:"page-btn"},"이전",8,q),(0,a._)("span",J,(0,s.zw)(d.value)+" / "+(0,s.zw)(m.value)+" 페이지",1),(0,a._)("button",{disabled:d.value>=m.value,onClick:g,class:"page-btn"},"다음",8,G)]),(0,a._)("div",K,[(0,a.Wm)(M,{postData:t.postData,onRefresh:$},null,8,["postData"])]),(0,a._)("div",Q,[(0,a.wy)((0,a.Wm)(O,{onDeleteComment:w,onCloseModal:D},null,512),[[o.F8,"deleteCommentModal"===v.value]])])]))}});const B=(0,p.Z)(R,[["__scopeId","data-v-ccae3df0"]]);var E=B;const X={class:"post-wrap"},tt={class:"post-title"},et={class:"mt-2 mb-2"},nt={style:{"margin-left":"20px"}},at={class:"post-date"},st={class:"post-writer"},rt={class:"mt-2 mb-2"},ot={style:{"margin-left":"20px"}},it={class:"post-edit-delete"},ut={class:"post-content"},ct=["src"],lt={class:"post-comment"},dt={class:"post-modal"},mt={key:0,class:"delete-post"};var ft=(0,a.aZ)({name:"PostView",setup(t){const e=(0,r.iH)(!1),n=(0,r.iH)(u.Z.state.userId),l=(0,r.iH)(u.Z.state.groupData.id),d=(0,r.iH)(u.Z.state.postData.id),m=(0,r.iH)(""),f=(0,r.iH)(""),v=(0,r.iH)(""),p=(0,r.iH)(0),h=(0,r.iH)(""),y=(0,r.iH)([{id:null,fileName:"",filePath:""}]),$=(0,r.iH)({postId:d.value}),_=function(){u.Z.commit("clearPost"),c.Z.push(`/${n.value}/${l.value}`)},D=async function(){try{const t=await(0,i.d5)(d.value);u.Z.commit("setPostId",t.data.postId),u.Z.commit("setPostTitle",t.data.title),u.Z.commit("setPostContent",t.data.content),u.Z.commit("setPostCreatedDate",t.data.createdDate),u.Z.commit("setPostUserNickName",t.data.user.nickName),u.Z.commit("setPostViewCount",t.data.viewCount),m.value=t.data.title,f.value=t.data.content,v.value=t.data.createdDate,p.value=t.data.viewCount,h.value=t.data.user.nickName;const e=await(0,i.PI)(d.value);y.value=e.data}catch(t){console.log(t)}},w=function(){c.Z.push(`/${n.value}/${l.value}/${d.value}/edit`)},b=function(){e.value=!0},M=function(){e.value=!1};return(0,a.bv)(D),(t,n)=>((0,a.wg)(),(0,a.iD)("div",X,[(0,a._)("div",null,[(0,a._)("h4",{onClick:_},(0,s.zw)((0,r.SU)(u.Z).state.groupData.name),1)]),(0,a._)("div",tt,[(0,a._)("div",et,[(0,a._)("span",nt,(0,s.zw)(m.value),1)]),(0,a._)("div",at,[(0,a._)("span",null,(0,s.zw)(v.value),1),(0,a._)("span",null,"조회 "+(0,s.zw)(p.value),1)])]),(0,a._)("div",st,[(0,a._)("div",rt,[(0,a._)("span",ot,(0,s.zw)(h.value),1)]),(0,a._)("div",it,[(0,a.wy)((0,a._)("button",{type:"button",class:"btn btn-outline-danger-",onClick:w,style:{"text-decoration":"underline",color:"darkgray",padding:"0"}},"수정",512),[[o.F8,h.value===(0,r.SU)(u.Z).state.userData.nickName]]),(0,a.wy)((0,a._)("button",{type:"button",class:"btn btn-outline-danger-",onClick:b,style:{"text-decoration":"underline",color:"darkgray"}},"삭제",512),[[o.F8,h.value===(0,r.SU)(u.Z).state.userData.nickName||"HOST"===(0,r.SU)(u.Z).state.userGroupRole]])])]),(0,a._)("div",ut,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(y.value,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t.id,class:"post-img"},[(0,a._)("img",{src:t.filePath},null,8,ct)])))),128)),(0,a._)("pre",null,(0,s.zw)(f.value),1)]),(0,a._)("div",lt,[(0,a.Wm)(E,{postData:$.value},null,8,["postData"])]),(0,a._)("div",dt,[e.value?((0,a.wg)(),(0,a.iD)("div",mt,[(0,a.Wm)(g,{postData:$.value,onCloseModal:M},null,8,["postData"])])):(0,a.kq)("",!0)])]))}});const vt=(0,p.Z)(ft,[["__scopeId","data-v-3b5ba83e"]]);var pt=vt}}]);
//# sourceMappingURL=840.c2f9e4b2.js.map