"use strict";(self["webpackChunkourmemory"]=self["webpackChunkourmemory"]||[]).push([[769],{9769:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});a(7658);var o=a(3396),l=a(2268),s=a(4870),n=a(9242),r=a(7627),u=a(2583),i=a(3824);const c={class:"post-form-wrap"},p={class:"post-form"},d={class:"post-form-header"},m={class:"mb-3 mt-3"},f={class:"post-form-body"},v={class:"mb-3"};var _=(0,o.aZ)({name:"CreatePostView",setup(e){const t=(0,s.iH)(r.Z.state.userId),a=(0,s.iH)(r.Z.state.groupData.id),_=(0,s.iH)(""),y=(0,s.iH)(""),w=(0,s.iH)(""),b=function(){r.Z.commit("clearPost"),i.Z.push(`/${t.value}/${a.value}`)},g=async function(){try{const e={userId:r.Z.state.userId,groupId:r.Z.state.groupData.id,title:_.value,content:y.value},o=w.value,l=new FormData;l.append("request",new Blob([JSON.stringify(e)],{type:"application/json"}));for(let t=0;t<o.length;t++)l.append("files",o[t]);const s=await(0,u.rd)(l);r.Z.commit("setPostId",s.data.id),await i.Z.replace(`/${t.value}/${a.value}/${s.data.id}`)}catch(e){console.log(e)}},h=function(e){w.value=e.target.files};return(e,t)=>((0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("div",null,[(0,o._)("h4",{onClick:b},(0,l.zw)((0,s.SU)(r.Z).state.groupData.name),1)]),(0,o._)("div",p,[(0,o._)("div",d,[(0,o._)("div",m,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"제목","onUpdate:modelValue":t[0]||(t[0]=e=>_.value=e)},null,512),[[n.nr,_.value]])])]),(0,o._)("div",f,[(0,o._)("div",v,[(0,o.wy)((0,o._)("textarea",{class:"form-control",id:"exampleFormControlTextarea1",style:{resize:"none"},rows:"20",placeholder:"내용","onUpdate:modelValue":t[1]||(t[1]=e=>y.value=e)},null,512),[[n.nr,y.value]])]),(0,o._)("input",{multiple:"",type:"file",accept:"image/*",ref_key:"fileInput",ref:w,onChange:h},null,544)]),(0,o._)("div",{class:"post-form-footer"},[(0,o._)("div",{class:"post-submit"},[(0,o._)("button",{type:"button",class:"btn btn-secondary",onClick:g},"등록")])])])]))}}),y=a(89);const w=(0,y.Z)(_,[["__scopeId","data-v-29b4af91"]]);var b=w}}]);
//# sourceMappingURL=769.6d15b1b2.js.map