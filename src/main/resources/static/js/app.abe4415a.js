(function(){"use strict";var e={2583:function(e,t,n){n.d(t,{Y8:function(){return N},GQ:function(){return $},II:function(){return y},rd:function(){return P},$s:function(){return L},tF:function(){return Z},kX:function(){return b},h7:function(){return U},rU:function(){return k},Kj:function(){return A},I2:function(){return v},sI:function(){return S},d0:function(){return D},d5:function(){return R},EN:function(){return w},PI:function(){return T},hw:function(){return I},QO:function(){return _},UO:function(){return m},y5:function(){return h},d2:function(){return g},lh:function(){return l},Q8:function(){return E}});var r=n(4161),o=n(7627),a=n(1598),u=n(3824);const s=function(e){return e.interceptors.request.use((async e=>{const t=o.Z.state.token,n=Math.floor(Date.now()/1e3);if(o.Z.state.tokenExp<=n){const t={refreshToken:o.Z.getters.getRefreshToken};try{const n=await g(o.Z.state.userId,t),r=n.data.accessToken,u=n.data.refreshToken,s=(0,a.Z)(r).exp,i=(0,a.Z)(u).exp;o.Z.commit("setToken",r),o.Z.commit("setTokenExp",s),o.Z.commit("setRefreshToken",u),o.Z.commit("setRefreshTokenExp",i),e.headers.Authorization=`Bearer ${r}`}catch(r){401==r.response.status&&await u.Z.replace("/")}}else e.headers.Authorization=`Bearer ${t}`;return e}),(e=>Promise.reject(e))),e.interceptors.response.use((e=>e),(async e=>Promise.reject(e))),e},i=function(){const e=r.Z.create({baseURL:{NODE_ENV:"production",VUE_APP_API_URL:"http://43.202.96.39",VUE_APP_BASE_URL:"http://43.202.96.39",BASE_URL:"/"}.APP_VUE_BASE_URL});return s(e)},c=function(){const e=r.Z.create({baseURL:{NODE_ENV:"production",VUE_APP_API_URL:"http://43.202.96.39",VUE_APP_BASE_URL:"http://43.202.96.39",BASE_URL:"/"}.APP_VUE_BASE_URL,headers:{"Content-Type":"multipart/form-data"}});return s(e)},p=r.Z.create({baseURL:{NODE_ENV:"production",VUE_APP_API_URL:"http://43.202.96.39",VUE_APP_BASE_URL:"http://43.202.96.39",BASE_URL:"/"}.APP_VUE_BASE_URL}),f=i(),d=c(),l=function(e){return p.post("/api/users",e)},m=function(e){return p.post("/api/users/login",e)},h=function(e){return p.delete(`/api/users/logout/${e}`)},g=function(e,t){return p.post(`/api/users/refresh/${e}`,t)},v=function(e,t){return f.post(`/api/users/${e}`,t)},b=function(e){return f.delete(`/api/users/${e}`)},E=function(e){return f.get(`/api/users?size=${e.size}&page=${e.page}`,e)},k=function(e,t){return f.post(`/api/groups/${e}`,t)},y=function(e){return f.post("/api/userGroups/create",e)},_=function(e){return f.post("/api/userGroups/join",e)},D=function(e){return f.get(`/api/userGroups/byUser/${e}`)},I=function(e){return f.get(`/api/userGroups/byGroup/${e}`)},U=function(e){return f.delete(`/api/userGroups/${e}`)},P=function(e){return d.post("/api/posts",e)},R=function(e){return f.get(`/api/posts/${e}`)},w=function(e){return f.get(`/api/posts/byGroup?groupId=${e.groupId}&size=${e.size}&page=${e.page}`)},A=function(e){return f.post(`/api/posts/${e.postId}`,e)},Z=function(e){return f.delete(`/api/posts/${e}`)},N=function(e){return f.post(`/api/posts/${e}/view`)},T=function(e){return f.get(`/api/uploads/${e}`)},$=function(e){return f.post("/api/comments",e)},S=function(e){return f.get(`/api/comments/byPost?postId=${e.postId}&size=${e.size}&page=${e.page}`)},L=function(e){return f.delete(`/api/comments/${e}`)}},5508:function(e,t,n){var r=n(9242),o=n(3396),a=(n(7658),n(3824)),u=n(7627),s=n(4870),i=n(2583);const c={class:"header-wrap"};var p=(0,o.aZ)({name:"HeaderView",setup(e){const t=(0,s.iH)(u.Z.state.userId),n=async function(){await(0,i.y5)(t.value),await a.Z.replace("/")},r=async function(){u.Z.commit("clearGroup"),u.Z.commit("clearPost"),await a.Z.push(`/${t.value}/home`)},p=async function(){await a.Z.push(`/${t.value}/userinfo`)};return(e,t)=>((0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("div",{class:"title"},[(0,o._)("h1",{onClick:r},"OURMEMORY")]),(0,o._)("div",{class:"user-info"},[(0,o._)("button",{class:"btn btn-secondary-",onClick:p,style:{"margin-top":"5px",color:"darkgray"}},"내 정보"),(0,o._)("button",{type:"button",class:"btn btn-light-",onClick:n,style:{color:"darkgray"}},"로그아웃")])]))}}),f=n(89);const d=(0,f.Z)(p,[["__scopeId","data-v-4eb7d9a5"]]);var l=d;const m=e=>((0,o.dD)("data-v-4894a187"),e=e(),(0,o.Cn)(),e),h={class:"footer-wrap"},g=m((()=>(0,o._)("div",{class:"copyright"},[(0,o._)("span",null,"Copyright 2023 OurMemory All Rights Reserved."),(0,o._)("span",null,"Email : onlyplsson@naver.com")],-1))),v=[g];function b(e,t){return(0,o.wg)(),(0,o.iD)("div",h,v)}const E={},k=(0,f.Z)(E,[["render",b],["__scopeId","data-v-4894a187"]]);var y=k;const _={class:"app"},D={class:"header"},I={class:"body"},U={class:"footer"};var P=(0,o.aZ)({name:"App",setup(e){return(e,t)=>{const n=(0,o.up)("RouterView");return(0,o.wg)(),(0,o.iD)("div",_,[(0,o.wy)((0,o._)("div",D,[(0,o.Wm)(l)],512),[[r.F8,"Login"!=e.$route.name&&"SignUp"!=e.$route.name]]),(0,o._)("div",I,[(0,o.Wm)(n)]),(0,o.wy)((0,o._)("div",U,[(0,o.Wm)(y)],512),[[r.F8,"Login"!=e.$route.name&&"SignUp"!=e.$route.name]])])}}});const R=(0,f.Z)(P,[["__scopeId","data-v-e250195e"]]);var w=R,A=n(4161);n(2166);const Z=(0,r.ri)(w);Z.config.globalProperties.$store=u.Z,Z.config.globalProperties.$axios=A.Z,Z.use(a.Z).use(u.Z).mount("#app")},3824:function(e,t,n){var r=n(2483),o=n(7627);const a=[{path:"/",name:"Login",component:()=>n.e(329).then(n.bind(n,8329)),meta:{role:""},beforeEnter:(e,t,n)=>{localStorage.removeItem("vuex"),n()}},{path:"/signup",name:"SignUp",component:()=>n.e(977).then(n.bind(n,5977)),meta:{role:""},beforeEnter:(e,t,n)=>{localStorage.removeItem("vuex"),n()}},{path:"/:userId/home",name:"GroupList",component:()=>n.e(931).then(n.bind(n,6974)),meta:{role:"ROLE_USER"}},{path:"/:userId/userinfo",name:"UserInfo",component:()=>n.e(523).then(n.bind(n,8523)),meta:{role:"ROLE_USER"}},{path:"/:userId/:groupId",name:"Group",component:()=>n.e(326).then(n.bind(n,7731)),meta:{role:"ROLE_USER"}},{path:"/:userId/:groupId/post",name:"CreatePost",component:()=>n.e(769).then(n.bind(n,9769)),meta:{role:"ROLE_USER"}},{path:"/:userId/:groupId/:postId",name:"Post",component:()=>n.e(840).then(n.bind(n,4840)),meta:{role:"ROLE_USER"}},{path:"/:userId/:groupId/:postId/edit",name:"EditPost",component:()=>n.e(230).then(n.bind(n,2230)),meta:{role:"ROLE_USER"}},{path:"/admin",name:"Admin",component:()=>n.e(735).then(n.bind(n,2735)),meta:{role:"ROLE_ADMIN"}}],u=(0,r.p7)({history:(0,r.PO)("/"),routes:a,scrollBehavior(){return{top:0}}});u.beforeEach(((e,t,n)=>{"Login"===e.name||"SignUp"===e.name?n():0==o.Z.state.userId?n("/"):e.params?.userId!==o.Z.state.userId.toString()?n(`/${o.Z.state.userId}/home`):n()})),t.Z=u},7627:function(e,t,n){var r=n(7139),o=n(2415);const a=(0,r.MT)({state:{userId:0,role:"",token:"",tokenExp:0,refreshToken:"",refreshTokenExp:0,userData:{email:"",name:"",nickName:"",createdDate:""},groupData:{id:0,name:"",key:""},postData:{id:0,title:"",content:"",createdDate:"",userNickName:"",viewCount:0},userGroupRole:"",userGroupId:0},getters:{getUserId:function(e){return e.userId},getRole:function(e){return e.role},getRefreshToken:function(e){return e.refreshToken}},mutations:{setUserId(e,t){e.userId=t},setRole(e,t){e.role=t},setToken(e,t){e.token=t},setTokenExp(e,t){e.tokenExp=t},setRefreshToken(e,t){e.refreshToken=t},setRefreshTokenExp(e,t){e.refreshTokenExp=t},setEmail(e,t){e.userData.email=t},setUserNickName(e,t){e.userData.nickName=t},setUserName(e,t){e.userData.name=t},setUserCreatedDate(e,t){e.userData.createdDate=t},setGroupId(e,t){e.groupData.id=t},setGroupName(e,t){e.groupData.name=t},setGroupKey(e,t){e.groupData.key=t},setPostId(e,t){e.postData.id=t},setPostTitle(e,t){e.postData.title=t},setPostContent(e,t){e.postData.content=t},setPostCreatedDate(e,t){e.postData.createdDate=t},setPostUserNickName(e,t){e.postData.userNickName=t},setPostViewCount(e,t){e.postData.viewCount=t},setUserGroupRole(e,t){e.userGroupRole=t},setUserGroupId(e,t){e.userGroupId=t},clearGroup(e){e.groupData.id=0,e.groupData.name="",e.groupData.key=""},clearPost(e){e.postData.id=0,e.postData.title="",e.postData.content="",e.postData.createdDate="",e.postData.userNickName="",e.postData.viewCount=0},clearStore(e){e.userId=0,e.role="",e.token="",e.tokenExp=0,e.refreshToken="",e.refreshTokenExp=0,e.userData.name="",e.userData.nickName="",e.userData.email="",e.userData.createdDate="",e.groupData.id=0,e.groupData.name="",e.groupData.key="",e.postData.id=0,e.postData.title="",e.postData.content="",e.postData.createdDate="",e.postData.userNickName="",e.postData.viewCount=0,e.userGroupRole="",e.userGroupId=0}},actions:{},plugins:[(0,o.Z)({paths:["userId","role","token","tokenExp","refreshToken","refreshTokenExp","userData","groupData","postData","userGroupRole","userGroupId"]})]});t.Z=a}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,a){if(!r){var u=1/0;for(p=0;p<e.length;p++){r=e[p][0],o=e[p][1],a=e[p][2];for(var s=!0,i=0;i<r.length;i++)(!1&a||u>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[i])}))?r.splice(i--,1):(s=!1,a<u&&(u=a));if(s){e.splice(p--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var p=e.length;p>0&&e[p-1][2]>a;p--)e[p]=e[p-1];e[p]=[r,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{230:"772ea6a4",326:"d149a81b",329:"10896492",523:"e9b7a876",735:"5ee5d3cf",769:"6d15b1b2",840:"c2f9e4b2",931:"83a6abba",977:"2957e40d"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{230:"2a07c4b6",326:"39a72355",329:"8c46314d",523:"8f24389e",735:"3361bf67",769:"a44530d9",840:"f1faa6ab",931:"b16e62d1",977:"32d300f3"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="ourmemory:";n.l=function(r,o,a,u){if(e[r])e[r].push(o);else{var s,i;if(void 0!==a)for(var c=document.getElementsByTagName("script"),p=0;p<c.length;p++){var f=c[p];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(i=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[o];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(l);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(e){return e(n)})),t)return t(n)},l=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),i&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,r,o){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var u=function(n){if(a.onerror=a.onload=null,"load"===n.type)r();else{var u=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.href||t,i=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");i.code="CSS_CHUNK_LOAD_FAILED",i.type=u,i.request=s,a.parentNode&&a.parentNode.removeChild(a),o(i)}};return a.onerror=a.onload=u,a.href=t,n?n.parentNode.insertBefore(a,n.nextSibling):document.head.appendChild(a),a},t=function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=n[r],a=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(a===e||a===t))return o}var u=document.getElementsByTagName("style");for(r=0;r<u.length;r++){o=u[r],a=o.getAttribute("data-href");if(a===e||a===t)return o}},r=function(r){return new Promise((function(o,a){var u=n.miniCssF(r),s=n.p+u;if(t(u,s))return o();e(r,s,null,o,a)}))},o={143:0};n.f.miniCss=function(e,t){var n={230:1,326:1,329:1,523:1,735:1,769:1,840:1,931:1,977:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=r(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}}(),function(){var e={143:0};n.f.j=function(t,r){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise((function(n,r){o=e[t]=[n,r]}));r.push(o[2]=a);var u=n.p+n.u(t),s=new Error,i=function(r){if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),u=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+u+")",s.name="ChunkLoadError",s.type=a,s.request=u,o[1](s)}};n.l(u,i,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,a,u=r[0],s=r[1],i=r[2],c=0;if(u.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(i)var p=i(n)}for(t&&t(r);c<u.length;c++)a=u[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(p)},r=self["webpackChunkourmemory"]=self["webpackChunkourmemory"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(5508)}));r=n.O(r)})();
//# sourceMappingURL=app.abe4415a.js.map