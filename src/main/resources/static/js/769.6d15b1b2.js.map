{"version":3,"file":"js/769.6d15b1b2.js","mappings":"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","sources":["webpack://ourmemory/./src/views/CreatePostView.vue?a18b","webpack://ourmemory/./src/views/CreatePostView.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-29b4af91\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"post-form-wrap\" }\nconst _hoisted_2 = { class: \"post-form\" }\nconst _hoisted_3 = { class: \"post-form-header\" }\nconst _hoisted_4 = { class: \"mb-3 mt-3\" }\nconst _hoisted_5 = { class: \"post-form-body\" }\nconst _hoisted_6 = { class: \"mb-3\" }\n\nimport {ref} from 'vue';\r\nimport store from \"@/store\";\r\nimport {createPostAPI} from \"@/api\";\r\nimport router from \"@/router\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  name: 'CreatePostView',\n  setup(__props) {\n\r\nconst userId = ref(store.state.userId)\r\nconst groupId = ref(store.state.groupData.id)\r\n\r\nconst title = ref(\"\")\r\nconst content = ref(\"\")\r\nconst fileInput = ref(\"\")\r\n\r\nconst goGroup = function () {\r\n    store.commit('clearPost')\r\n    router.push(`/${userId.value}/${groupId.value}`)\r\n}\r\n\r\nconst createPost = async function () {\r\n    try {\r\n        const createPostRequest = {\r\n            userId: store.state.userId,\r\n            groupId: store.state.groupData.id,\r\n            title: title.value,\r\n            content: content.value\r\n        }\r\n\r\n        const files = fileInput.value\r\n        const formData = new FormData();\r\n        formData.append('request', new Blob([JSON.stringify(createPostRequest)], {type: 'application/json'}))\r\n\r\n        for (let i = 0; i < files.length; i++) {\r\n            formData.append('files', files[i])\r\n        }\r\n\r\n        const result = await createPostAPI(formData);\r\n        store.commit('setPostId', result.data.id)\r\n        await router.replace(`/${userId.value}/${groupId.value}/${result.data.id}`)\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n\r\n}\r\n\r\nconst uploadFile = function (event: any) {\r\n    fileInput.value = event.target.files\r\n}\r\n\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", null, [\n      _createElementVNode(\"h4\", { onClick: goGroup }, _toDisplayString(_unref(store).state.groupData.name), 1)\n    ]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"div\", _hoisted_4, [\n          _withDirectives(_createElementVNode(\"input\", {\n            type: \"text\",\n            class: \"form-control\",\n            id: \"exampleFormControlInput1\",\n            placeholder: \"제목\",\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((title).value = $event))\n          }, null, 512), [\n            [_vModelText, title.value]\n          ])\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createElementVNode(\"div\", _hoisted_6, [\n          _withDirectives(_createElementVNode(\"textarea\", {\n            class: \"form-control\",\n            id: \"exampleFormControlTextarea1\",\n            style: {\"resize\":\"none\"},\n            rows: \"20\",\n            placeholder: \"내용\",\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((content).value = $event))\n          }, null, 512), [\n            [_vModelText, content.value]\n          ])\n        ]),\n        _createElementVNode(\"input\", {\n          multiple: \"\",\n          type: \"file\",\n          accept: \"image/*\",\n          ref_key: \"fileInput\",\n          ref: fileInput,\n          onChange: uploadFile\n        }, null, 544)\n      ]),\n      _createElementVNode(\"div\", { class: \"post-form-footer\" }, [\n        _createElementVNode(\"div\", { class: \"post-submit\" }, [\n          _createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"btn btn-secondary\",\n            onClick: createPost\n          }, \"등록\")\n        ])\n      ])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./CreatePostView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./CreatePostView.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./CreatePostView.vue?vue&type=style&index=0&id=29b4af91&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-29b4af91\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_defineComponent","name","setup","__props","userId","ref","store","groupId","title","content","fileInput","goGroup","router","value","createPost","async","createPostRequest","files","formData","FormData","append","Blob","JSON","stringify","type","i","length","result","createPostAPI","data","id","error","console","log","uploadFile","event","target","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","onClick","_toDisplayString","_unref","state","groupData","_withDirectives","placeholder","$event","_vModelText","style","rows","multiple","accept","ref_key","onChange","__exports__"],"sourceRoot":""}